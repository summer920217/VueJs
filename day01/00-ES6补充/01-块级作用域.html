<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Document</title>
</head>
<body>
<button>按钮1</button>
<button>按钮2</button>
<button>按钮3</button>
<button>按钮4</button>
<button>按钮5</button>
<script>
// ES5中的var是没有块级作用域的(if/for)
// ES6中的let是有块级作用域的(if/for)

// ES5之前因为if和for都没有块级作用域的概念，所以在很多时候都必须借助于function的作用域来解决应用外面变量的问题
// ES6中，加入了let,let它是有if和for的块级作用域

// 1.变量作用域：变量在什么范围内是可用的
/*
{
  var name = 'why';
  console.log(name);//'why'
}
console.log(name);//'why'
*/

// 2.没有块级作用域引起的问题: if的块级
/*
var func;
if(true){
  var name = 'why';
  func = function(){
    console.log(name);
  }
  func();//'why'
}
name = 'NANA';
func();//'NANA'
//name 是不受保护的，可随意修改
*/ 

// 3.没有块级作用域引起的问题: for的块级
// 为什么闭包可以解决问题：函数是一个作用域
/*
var btns = document.querySelectorAll('button');
for(var i=0; i<btns.length; i++){
  (function(num){
    btns[i].onclick = function(){
      console.log('第'+num+'个按钮被点击');
    }
  })(i);
}
*/


//--------------------------
// 用ES6的语法
const btns = document.querySelectorAll('button');
for(let i=0; i<btns.length; i++){
    btns[i].onclick = function(){
      console.log('第'+i+'个按钮被点击');
    }
}


















</script>
</body>
</html>